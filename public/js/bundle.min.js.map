{"version":3,"sources":["app.js","components/submitForm.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length","1","module","process","global","Buffer","__argument0","__argument1","__argument2","__argument3","__filename","__dirname","$","document","ready","validator","addMethod","value","element","replace","formValidate","field","closest","validate","rules","name","required","minlength","maxlength","phone","lengthphone","comment","rangelength","email","highlight","errorClass","validClass","addClass","removeClass","unhighlight","parent","tooltip_options","placement","errorElement","messages","inputmask","greedy","regex","oncomplete","this","onincomplete","submit","preventDefault","unindexed_array","indexed_array","self","post_data","serializeArray","map","find","ajax","type","url","dataType","data","beforeSend","success","error","response","textStatus"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,MAAA,IAAAK,MAAA,uBAAAL,EAAA,KAAA,IAAAM,EAAAT,EAAAG,GAAA,CAAAO,QAAA,IAAAX,EAAAI,GAAA,GAAAQ,KAAAF,EAAAC,QAAA,SAAAZ,GAAA,IAAAE,EAAAD,EAAAI,GAAA,GAAAL,GAAA,OAAAI,EAAAF,GAAAF,IAAAW,EAAAA,EAAAC,QAAAZ,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAO,QAAA,IAAA,IAAAH,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAW,EAAA,CAAA,SAAAP,EAAAQ,EAAAJ,IACA,SAAAK,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GACAC,EAAAC,UAAAC,MAAA,cCAAF,EAAAG,UAAAC,UAAA,cAAA,SAAAC,EAAAC,GACA,OAAA,IAAAD,EAAAE,QAAA,OAAA,IAAAnB,SAGAY,EAAA,WAIA,SAAAQ,EAAAC,GACAA,EAAAC,QAAA,QAAAC,SAAA,CACAC,MAAA,CACAC,KAAA,CACAC,UAAA,EACAC,UAAA,EACAC,UAAA,IAEAC,MAAA,CACAH,UAAA,EACAI,YAAA,IAEAC,QAAA,CACAC,YAAA,CAAA,GAAA,MAEAC,MAAA,CACAA,OAAA,IAGAC,UAAA,SAAAhB,EAAAiB,EAAAC,GACAxB,EAAAM,GAAAmB,SAAA,cAAAC,YAAA,aAEAC,YAAA,SAAArB,EAAAiB,EAAAC,GACAxB,EAAAM,GAAAmB,SAAA,YAAAC,YAAA,cACA1B,EAAAM,GAAAsB,OAAA,eAAAF,YAAA,cAEAG,gBAAA,CACAhB,KAAA,CAAAiB,UAAA,OACAb,MAAA,CAAAa,UAAA,OACAT,MAAA,CAAAS,UAAA,OACAX,QAAA,CAAAW,UAAA,QAEAN,WAAA,gBACAD,WAAA,kBACAQ,aAAA,MACAC,SAAA,CACAnB,KAAA,CACAC,SAAA,sCACAC,UAAA,yCACAC,UAAA,oCAEAC,MAAA,CACAH,SAAA,sCACAI,YAAA,+CAEAC,QAAA,CACAL,SAAA,0CACAM,YAAA,yDAlDApB,EAAA,sBAAAiC,UAAA,CAAAC,QAAA,EAAAC,MAAA,wBACAnC,EAAA,uBAAAiC,UAAA,mBAuDAjC,EAAA,UAAAiC,UAAA,CACAG,WAAA,WACA5B,EAAAR,EAAAqC,QAGAC,aAAA,WACA9B,EAAAR,EAAAqC,UAKArC,EAAA,QAAAuC,OAAA,SAAAjE,GACAA,EAAAkE,iBACA,IAKAC,EACAC,EANAC,EAAA3C,EAAAqC,MAEAO,GAGAH,EAHAE,EAGAE,iBACAH,EAAA,GAEA1C,EAAA8C,IAAAL,EAAA,SAAAjE,EAAAO,GACA2D,EAAAlE,EAAA,MAAAA,EAAA,QAGAkE,GAEAC,EAAAI,KAAA,eAAA3D,QACAY,EAAAgD,KAAA,CACAC,KAAA,OACAC,IAhBA,aAiBAC,SAAA,OACAC,KAAAR,EACAS,WAAA,SAAAD,KAGAE,QAAA,SAAAF,KAIAG,MAAA,SAAAC,EAAAC","file":"bundle.min.js","sourcesContent":["$(document).ready(function(){\r\n  \r\n})\r\n","$.validator.addMethod(\"lengthphone\", function(value, element) {\r\n  return value.replace(/\\D+/g, '').length == 12;\r\n});\r\n\r\n$(function() {\r\n  $(\"input[name='name']\").inputmask({greedy: false, regex: '[a-zA-Zа-яА-ЯёЁ -]+'});\r\n  $(\"input[name='phone']\").inputmask(\"+38(999)9999999\");\r\n\r\n  function formValidate(field){\r\n    field.closest('form').validate({\r\n      rules: {\r\n        name: {\r\n          required: true,\r\n          minlength: 4,\r\n          maxlength: 32\r\n        },\r\n        phone: {\r\n          required: true,\r\n          lengthphone: 12\r\n        },\r\n        comment: {\r\n          rangelength: [20, 256]\r\n        },\r\n        email: {\r\n          email: true\r\n        }\r\n      },\r\n      highlight: function(element, errorClass, validClass) {\r\n        $(element).addClass(\"is-invalid\").removeClass(\"is-valid\");\r\n      },\r\n      unhighlight: function(element, errorClass, validClass) {\r\n        $(element).addClass(\"is-valid\").removeClass(\"is-invalid\");\r\n        $(element).parent(\".form-group\").removeClass(\"has-error\");\r\n      },\r\n      tooltip_options: {\r\n            name: { placement: 'top' },\r\n            phone:{ placement: 'top' },\r\n            email:{ placement: 'top' },\r\n            comment:{ placement: 'top' }\r\n          },\r\n      validClass: \"valid-tooltip\",\r\n      errorClass: \"invalid-tooltip\",\r\n      errorElement: \"div\",\r\n      messages: {\r\n        name: {\r\n          required: \"Это поле обязательно для заполнения\",\r\n          minlength: \"Имя должно содержать минимум 4 символа\",\r\n          maxlength: \"Максимальное число символов - 32\"\r\n        },\r\n        phone: {\r\n          required: \"Это поле обязательно для заполнения\",\r\n          lengthphone: \"Проверте правильность ввода номера телефона\"\r\n        },\r\n        comment: {\r\n          required: \"Вы не можете отправить пустое сообщение\",\r\n          rangelength: \"Сообщение должно содержать от {0} до {1} символов!\"\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  $(':input').inputmask({\r\n    'oncomplete': function() {\r\n      formValidate($(this));\r\n    },\r\n\r\n    'onincomplete': function() {\r\n      formValidate($(this));\r\n    }\r\n  });\r\n\r\n\r\n  $('form').submit(function(e) {\r\n    e.preventDefault();\r\n    var self = $(this);\r\n    var href = \"./form.php\";\r\n    var post_data = getFormData(self);\r\n\r\n    function getFormData($form) {\r\n      var unindexed_array = $form.serializeArray();\r\n      var indexed_array = {};\r\n\r\n      $.map(unindexed_array, function(n, i) {\r\n        indexed_array[n['name']] = n['value'];\r\n      });\r\n\r\n      return indexed_array;\r\n    }\r\n    if(!self.find(\".is-invalid\").length){\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: href,\r\n        dataType: 'text',\r\n        data: post_data,\r\n        beforeSend: function(data) {\r\n          // Loader\r\n        },\r\n        success: function(data) {\r\n          // clean form\r\n          // modalSuccess\r\n        },\r\n        error: function(response, textStatus) {\r\n          // modalError\r\n        }\r\n      });\r\n    }\r\n  });\r\n});\r\n"]}